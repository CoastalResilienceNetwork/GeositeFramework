<script type="text/template" id="tree">
    <ul>
        <%= _.map(layers, renderLayer).join('') %>
    </ul>
</script>

<script type="text/template" id="layer">
    <li><span class="ls-node"><%= layer.getDisplayName() %></span>
    <% if (layer.getServer()) { %>
    (Server name: <%- layer.getServer().name %>)
    <% } %>
    <% if (layer.hasChildren()) { %>
        <ul>
            <% if (layer.isLoading()) { %>
            <li>Loading...</li>
            <% } else { %>
            <%= _.map(layer.getChildren(), renderLayer).join('') %>
            <% } %>
        </ul>
    <% } %>
    </li>
</script>