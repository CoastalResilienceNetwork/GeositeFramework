<script type="text/template" id="tree">
    <ul>
        <%= _.map(layers, renderLayer).join('') %>
    </ul>
</script>

<script type="text/template" id="layer">
    <li>
        <% if (layer.hasChildren()) { %>
            <% if (state.isSelected(layer.id())) { %>&boxminus;<% } else { %>&boxplus;<% } %>
        <% } %>

        <a href="javascript:;" data-layer-id="<%- layer.id() %>">
            <span class="ls-node"><%= layer.getDisplayName() %></span>
            <% if (serviceLayer) { %><%- serviceLayer.id %><% } %></a>

        <% if (!layer.hasChildren() && state.isSelected(layer.id())) { %>&#10004;<% } %>

    <% if (layer.hasChildren() && state.isSelected(layer.id())) { %>
        <ul>
            <%= _.map(state.getChildren(layer), renderLayer).join('') %>
        </ul>
    <% } %>
    </li>
</script>