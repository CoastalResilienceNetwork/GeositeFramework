<script type="text/template" id="plugin">
    <div class="launchpad-plugin">
        <% if (htmlSnippet) { %>
            <div>
            <%= htmlSnippet %>
            </div>
        <% } else { %>
            <h2><%= title %></h2>
            <p><%= description %></p>
        <% } %>

        <% if (plugins) { %>
        <h3>Start exploring</h3>
        <div class="plugins">
            <ul>
            <% _.each(plugins, function(plugin) { %>
                <li>
                    <div>
                        <h4 class="color-primary"><%= plugin.title %></h4>
                        <% if (uiState['plugin-' + plugin.pluginName].showToggle) { %>
                            <% if (uiState['plugin-' + plugin.pluginName].textTruncated) { %>
                                <p>
                                    <%= plugin.description.substring(0, 140) + '...' %>
                                    <a href="#" class="color-primary truncate-toggle i18n" data-ui-key="<%= 'plugin-' + plugin.pluginName %>" data-i18n="More">More</a>
                                </p>
                            <% } else { %>
                                <p>
                                    <%= plugin.description %>
                                    <a href="#" class="color-primary truncate-toggle i18n" data-ui-key="<%= 'plugin-' + plugin.pluginName %>" data-i18n="Less">Less</a>
                                </p>
                            <% } %>
                        <% } else { %>
                            <p><%= plugin.description %></p>
                        <% } %>
                    </div>
                    <button class="button launch-plugin" data-plugin-name="<%= plugin.pluginName %>">Go</button>
                </li>
            <% }); %>
            </ul>
        </div>
        <% } %>

        <% if (scenarios) { %>
        <h3>One-click maps</h3>
        <div class="scenarios">
            <ul>
            <% _.each(scenarios, function(scenario) { %>
                <li>
                    <div>
                        <h4 class=color-primary><%= scenario.title %></h4>
                        <% if (uiState['scenario-' + scenario.saveCode].showToggle) { %>
                            <% if (uiState['scenario-' + scenario.saveCode].textTruncated) { %>
                                <p>
                                    <%= scenario.description.substring(0, 140) + '...' %>
                                    <a href="#" class="color-primary truncate-toggle i18n" data-ui-key="<%= 'scenario-' + scenario.saveCode %>" data-i18n="More">More</a>
                                </p>
                            <% } else { %>
                                <p>
                                    <%= scenario.description %>
                                    <a href="#" class="color-primary truncate-toggle i18n" data-ui-key="<%= 'scenario-' + scenario.saveCode %>" data-i18n="Less">Less</a>
                                </p>
                            <% } %>
                        <% } else { %>
                            <p><%= scenario.description %></p>
                        <% } %>
                    </div>
                    <button class="button launch-scenario" data-save-code="<%= scenario.saveCode %>">Go</button>
                </li>
            <% }); %>
            </ul>
        </div>
        <% } %>

        <% if (partners) { %>
        <h3>Partners</h3>
        <div class="partners">
            <ul>
            <% _.each(partners, function(partner) { %>
                <li>
                    <a href="<%= partner.link %>" target="_blank">
                        <img src="<%= partner.logoPath %>" alt="<%= partner.title %>" title="<%= partner.title %>"/>
                    </a>
                </li>
            <% }); %>
            </ul>
        </div>
        <% } %>
    </div>
</script>

<script type="text/template" id="infographic-button">
    <button class="button button-default infographic-icon">
        <img src="plugins/launchpad/infographic-icon.png" alt="Show infographic">
    </button>
</script>
