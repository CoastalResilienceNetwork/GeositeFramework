// Backbone.Picky, v0.1.0
// Copyright (c)2012 Derick Bailey, Muted Solutions, LLC.
// Distributed under MIT license
// http://github.com/derickbailey/backbone.picky
Backbone.Picky=function(a,b){var c={};c.SingleSelect=function(a){this.collection=a},b.extend(c.SingleSelect.prototype,{select:function(a){if(a&&this.selected===a)return;this.deselect(),this.selected=a,this.selected.select(),this.trigger("selected",a)},deselect:function(a){if(!this.selected)return;a=a||this.selected;if(this.selected!==a)return;this.selected.deselect(),this.trigger("deselected",this.selected),delete this.selected}}),c.MultiSelect=function(a){this.collection=a,this.selected={}},b.extend(c.MultiSelect.prototype,{select:function(a){if(this.selected[a.cid])return;this.selected[a.cid]=a,a.select(),d(this)},deselect:function(a){if(!this.selected[a.cid])return;delete this.selected[a.cid],a.deselect(),d(this)},selectAll:function(){this.each(function(a){a.select()}),d(this)},selectNone:function(){if(this.selectedLength===0)return;this.each(function(a){a.deselect()}),d(this)},toggleSelectAll:function(){this.selectedLength===this.length?this.selectNone():this.selectAll()}}),c.Selectable=function(a){this.model=a},b.extend(c.Selectable.prototype,{select:function(){if(this.selected)return;this.selected=!0,this.trigger("selected"),this.collection&&this.collection.select(this)},deselect:function(){if(!this.selected)return;this.selected=!1,this.trigger("deselected"),this.collection&&this.collection.deselect(this)},toggleSelected:function(){this.selected?this.deselect():this.select()}});var d=function(a){a.selectedLength=b.size(a.selected);var c=a.selectedLength,d=a.length;if(c===d){a.trigger("select:all",a);return}if(c===0){a.trigger("select:none",a);return}if(c>0&&c<d){a.trigger("select:some",a);return}};return c}(Backbone,_);